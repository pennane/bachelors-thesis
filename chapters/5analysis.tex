% Material and Methods
\clearpage%if the chapter heading starts close to bottom of the page, force a line break and remove the vertical vspace
\vspace{21.5pt}
\chapter{Kokemukset}

Tässä kappaleessa käsitellään ohjelmointikokemuksia erityisesti funktionaalisen ja oliopohjaisen ohjelmoinnin näkökulmista. Pohditaan, miten kokemukset, ohjelmointiparadigmat ja käytetyn kielen ominaisuudet vaikuttavat luettavuuteen, uudelleenkäytettävyyteen ja tehokkuuteen.

Kokemuksella on suuri rooli siinä, miten ohjelmoija lähestyy näitä teemoja. Vastaavasti eri ohjelmointiparadigmat — kuten funktionaalinen ja olio-ohjelmointi — tarjoavat erilaisia työkaluja ja periaatteita, jotka voivat joko helpottaa tai hankaloittaa näiden tavoitteiden saavuttamista. Ohjelmointikielen ominaisuudet, kuten Pythonin yksinkertaisuus tai JavaScriptin toiminnalliset työkalut, voivat myös muokata koodikäytäntöjä ja vaikuttaa siihen, mikä on optimaalista kussakin tilanteessa.

\section{Luettavuus}

Puidaan luettavuutta hieman eri näkökulmista. X-alustalla keskusteltiin entisen Google kehittäjän Jake Archibaldin kanssa, joka suostui vastaamaan funktionaaliseen ohjelmointiin liittyviin kysymyksiin \cite{pennane_x_convo}.

Yli 20 vuotta JavaScriptia ohjelmoinut Archibald pyrkii ohjelmoimaan koodia, joka on kuin suoraan ohjelmoinnin alkeita käsittelevästä oppikirjasta \cite{is_reduce_bad,pennane_fp_gist}. Hän pyrkii olemaan käyttämättä monimutkaisempia ohjelmoinnin työkaluja \cite{is_reduce_bad}, kuten esimerkiksi \texttt{Array.prototype.reduce}, osittaissoveltaminen (partial application) tai säännölliset lausekkeet (regular expressions) \cite{is_reduce_bad,pennane_x_convo}.

Hän suosii for-silmukoiden käyttämistä funktionaalisen \texttt{reduce}-funktion sijasta, ja perustelee valintaa luettavuudella \cite{is_reduce_bad,pennane_x_convo,pennane_fp_gist}. Yleisesti Archibald kuitenkin kokee funktionaalisen ohjelmoinnin olevan tuonut positiivisa vaikutteita JavaScriptiin \cite{pennane_x_convo}. Luettavuuden kannalta merkittävimpiä tekijöitä ovat keskimääräinen rivin pituus, tunnisteiden määrä per rivi ja keskimääräinen sulkeiden määrä \cite[8]{busereadability}. Edsger Dijkstran mukaan ohjelman luettavuus riippuu suurelta osin sen \glsdisp{ohjausrakenne}{ohjausrakenteiden} yksinkertaisuudesta \cite{dijkstra1976discipline}. Ohjelmoijat oppivat ensin for-silmukoita, ennen kuin ymmärtävät, mitä \texttt{reduce} (tai \texttt{fold}) tarkoittaa. Kuitenkin tunnisteet ja rakenteet, jotka ohjelmoija tuntee, ovat henkilökohtaisia ja perustuvat kokemuksiin sekä opiskelutaustaan.

Myös Python ohjelmointikielen luojana tunnettu Guido van Rossum halusi poistatti Python 3 versiosta \texttt{reduce}-funktion, ja perusteli sitä luettavuudella, ja kielen yksinkertaistamisella \cite{vanrossum2008reduce}.

Voi siis ajatella, että luettavuus on tarpeellista suhteuttaa työympäristöön. Jos koodikannassa suositaan funktioiden yhdistelemistä, tätä käytäntöä kannattaa noudattaa. Jos taas for-silmukoita käytetään mieluummin \texttt{reduce}-funktion sijasta, ne ovat parempi valinta.

Kokemuksien mukaan voi olla vaikeaa olla käyttämättä työkaluja, joiden näkee sopivan tilanteeseen. Kuitenkin kannattanee ottaa askel taaksepäin ja pitää huolta, että ohjelmakoodi on aina luettavaa tilanteeseen sopien.

\section{Uudelleenkäytettävyys}

Työpaikalla keskusteluissa on näkynyt käytänteitä, että ennen kuin jotakin tarvitaan kolmesti, ei sille ole kannattavaa kirjoittaa uudelleenkäytettävää abstraktiota.

Toisaalta kun kehitetään ulkoisia rajapintoja on tilanne eri, sillä on pidettävä huolta taaksepäin suuntautuvasta yhteensopivuudesta.

Uudelleenkäytettävien palikoiden löytäminen ei myöskään ole itsetäänselvyys. On keskusteltu siitä, että kannattaisi välttää logiikan koostamista, ja toisinaan suosia yksinkertaisuuksia ja kovakoodattua tietoa, jotta sen etsiminen olisi koodikannasta helpompaa (esimerkiksi käyttämällä grep-komentorivikomentoa).

Uudelleenkäytettävyyttä voidaan harjoittaa erinäköisillä koodikäytänteillä, kuten erinäköisin funktionaalisen ohjelmoinnin periaattein, tai olio-ohjelmoinnin periaattein. Archibaldin mukaan koodikäytänteet usein epäonnistuvat tehtävässään, kun niissä yritetään liikaa pysytellä niiden puhtaissa akateemisissa raameissa \cite{pennane_fp_gist}.



\section{Tehokkuus}
Tehokkuutta ei ole suotavaa miettiä liikaa enen kuin ohjelmoidaan systeemejä, jotka todella riippuvat siitä. Monet ovat tätä mieltä \cite{pennane_fp_gist,prematureoptimization}. Kun tehokkuusongelmat alkavat näkyä, on kokemusten mukaan todennäköisempää, että yhden ohjelman kriisipesäkkeen (hot spot) korjaamisella tilanne voidaan korjata, eikä tuhannen sivalluksen kuolema ole todennäköisin.

Ohjelman tehokkuuteen vaikuttavien asioiden tiedostaminen kuitenkin ennaltaehkäisee ongelmatilanteita. Esimerkiksi tiedon kopioinnin tai \texttt{reduce}-funktion välttämisellä voidaan ajaa proaktiivisesti ohjelmaa toimivampaan suuntaan.

